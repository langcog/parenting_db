---
title: "Developmental milestone curves from parent report data"
author: "Mike & Emily"
date: "`r Sys.Date()`"
output: 
html_document:
toc: true
number_sections: true
runtime: shiny
---

# Dimensionality reduction

See if we can extract covarying developmental indicators. 

```{r, fig.height=16}
indicator_mat <- ms %>%
  ungroup() %>%
  filter(!(eng_desc %in% c("Lying face dow","Lying face u"))) %>%
  select(age_months, eng_desc, answer, n) 

ggplot(indicator_mat, aes(x = age_months, y = eng_desc, fill = answer)) + 
  geom_tile()
```

Missing data is clearly a huge problem, as is sample size in each cell. 

```{r, fig.height=16}
ggplot(filter(indicator_mat, n > 20), 
       aes(x = age_months, y = eng_desc, fill = answer)) + 
  geom_tile()
```

Try looking at the correlation matrix.

```{r}
library(corrplot)
mat_scaled <- scale(mat,center=TRUE,scale=TRUE);
cor_mat <- cor(mat_scaled)
corrplot(cor_mat, order = "hclust")
```